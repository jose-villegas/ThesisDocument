\section{Iluminación Global de Vóxeles} % (fold)
\label{sec:iluminacion_global_de_voxeles}
Almacenando solo la radiancia producto de la iluminación directa permite obtener iluminación indirecta de un solo rebote durante el proceso de trazado de conos con vóxeles. Esto provee buenos resultados visuales ya que el primer rebote es usualmente el que más contribuye en el transporte de luz de una escena.

Para la incorporación de un segundo rebote nuestra implementación realiza trazado de conos con vóxeles dentro de la misma representación con vóxeles utilizando compute shaders. 

Luego que el proceso de sombreado de vóxeles es completado y se filtran estos valores para generar vóxeles anisótropos, se agrega otro paso para calcular el primer rebote de iluminación global sobre el volumen de radiancia. Similar al trazado de conos por fragmento explicado en \ref{sub:voxel_cone_tracing_orig} ahora por cada vóxel se trazan conos acumulando la radiancia incidente sobre el vóxel. Este método solo comprende reflexión difusa ya que en nuestra implementación no se almacena información especular durante el proceso de voxelización. Al finalizar de calcular la iluminación global sobre cada vóxel se vuelve a realizar el filtrado anisótropo. El volumen resultante ahora es utilizado durante la composición final de la imagen por el trazado de conos con vóxeles, donde ahora estos conos acumulan radiancia producto de tanto iluminación directa como indirecta difusa.
% section iluminacion_global_de_voxeles (end)
